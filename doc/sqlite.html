<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
      "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>sqlite</title>
  <meta name="generator" content="Amaya, see http://www.w3.org/Amaya/">
  <style type="text/css" title="Amaya theme">
/* Modern style for Amaya Editor Lite */

/* default rules for the whole document */
body {
    font-size: 12pt;
    font-family: Helvetica, Arial, sans-serif;
    font-weight: normal;
    font-style: normal;
    color: black;
    background-color: white;
    line-height: 1.2em;
    margin-left: 4em;
    margin-right: 2em;
   }

/* paragraphs */
p  {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    text-align: left;
   }

/* headings */
h1 {
    font-size: 180%;
    font-weight: bold;
    font-style: normal;
    font-variant: small-caps;
    text-align: left;
    padding: 0;
    margin-top: 1.7em;
    margin-bottom: 1.7em;
   }
h2 {
    font-size: 150%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.5em;
    margin-bottom: 1.1em;
   }
h3 {
    font-size: 130%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.3em;
    margin-bottom: 1.1em;
   }
h4 {
    font-size: 110%;
    font-weight: bold;
    font-style: normal;
    padding: 0;
    margin-top: 1.1em;
    margin-bottom: 1.1em;
   }
h5 {
    font-size: 100%;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
   }
h6 {
    font-size: 100%;
    font-weight: normal;
    font-style: italic;
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
   }

/* divisions */
div {
    padding: 0;
    margin-top: 0em;
    margin-bottom: 0em;
   }

/* lists */
ul, ol {
    padding: 0 0 0 3em;
    margin-top: 1em;
    margin-bottom: 1em;
   }
ul ul, ol ol, ul ol, ol ul {
    margin-top: 1em;
    margin-bottom: 1em;
   }
li {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    text-align: left;
   }
li p {
    margin-top: 1em;
    margin-bottom: 1em;
   }
dl {
    padding: 0;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 1em;
   }
dl dl {
    margin-top: 0em;
    margin-bottom: 0em;
   }
dt {
    padding: 0;
    font-weight: bold;
    margin-top: .3em;
    margin-bottom: .3em;
   }
dd {
    padding: 0;
    margin-top: .3em;
    margin-left: 3em;
    margin-bottom: .3em;
   }
dl p {
    margin-top: .3em;
    margin-bottom: .3em;
   }

/* inline */
strong {
    font-weight: bold;
   }
em {
    font-style: italic;
   }
code {
    font-family: Courier New, Courier, monospace;
   }
ins {
    background-color: yellow;
    text-decoration: underline;
   }
del {
    text-decoration: line-through;
   }

/* anchors */
a[href] {
    color: blue;
    text-decoration: underline;
   }

/* end */
  </style>
</head>

<body>

<table border="1" style="width: 100%">
  <col>
  <col>
  <col>
  <col>
  <col>
  <col>
  <tbody>
    <tr>
      <td align="center" colspan="6"><a href="reference.html">Table Of
        Contents</a></td>
    </tr>
    <tr>
      <td><a href="#ClassSummary">Class Summary</a></td>
      <td><a href="#Inheritance">Inheritance</a></td>
      <td><a href="#ConstructorSummary">Constructor Summary</a></td>
      <td><a href="#ProcMethodsSummary">Proc/Methods Summary</a></td>
      <td><a href="#ConstructorDetail">Constructor Detail</a></td>
      <td><a href="#ProcMethodDetail">Proc/Method Detail</a></td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <tbody>
    <tr>
      <td colspan="1"><strong><a id="ClassSummary"></a>Class:
        tdbo::SQLite</strong></td>
    </tr>
    <tr>
      <td>Database Connectivity Interface to SQLite database. Implements
        interfaces defined by <a href="database.html">tdbo::Database</a>.</td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <tbody>
    <tr>
      <td colspan="1"><strong><a id="Inheritance"></a>Inherits: <a
        href="object.html">tdbo::Object</a>&lt;-<a
        href="database.html">tdbo::Database</a></strong></td>
    </tr>
    <tr>
      <td>Methods: open, close, get, mget, insert, update, delete, begin,
        commit, rollback</td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <col>
  <tbody>
    <tr>
      <td colspan="2"><strong><a id="ConstructorSummary"></a>Constructor
        Summary</strong></td>
    </tr>
    <tr>
      <td><a href="#constructor">constructor {}</a></td>
      <td>Constructor.</td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <tbody>
    <tr>
      <td colspan="2"><strong><a id="ProcMethodsSummary"></a>Procs/Methods
        Summary</strong></td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#open">open {location {initscript ""}}</a></code> 

        <p>Open sqlite3 database file from location. Upon successful
        connection, optionally, evaluate sqlite3 SQL script passed through
        initscript.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#close">close {}</a></code> 

        <p>Close the database connection.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#get">get {schema_name condition {fieldslist
        ""}}</a></code> 

        <p>Retrieve a record, that meets the <code>condition,</code> from a
        table/view indicated by <code>schema_name</code>.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#get">mget {schema_name args}</a></code> 

        <p>Retrieve multiple records from a table/view indicated by
        <code>schema_name</code>.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#insert">insert {schema_name namevaluepairs
        {sequence_fields ""}}</a></code> 

        <p>Insert a new record into the table/view indicated by
        <code>schema_name</code>.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#update">update {schema_name namevaluepairs {condition
        ""}}</a></code> 

        <p>Update one or more existing records, that meet the
        <code>condition</code>, of the table/view indicated by
        <code>schema_name</code>.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#delete">delete {schema_name {condition
        ""}}</a></code> 

        <p>Delete one or more existing records, that meet the
        <code>condition,</code> from the table/view indicated by
        <code>schema_name</code>.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#delete">begin {{lock deferred}}</a></code> 

        <p>Begin a database transaction.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#delete">commit {}</a></code> 

        <p>Commit the currently active database transaction.</p>
      </td>
    </tr>
    <tr>
      <td align="right"><code>public method</code> </td>
      <td><code><a href="#delete">rollback {}</a></code> 

        <p>Rollback the currently active database transaction.</p>
      </td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <tbody>
    <tr>
      <td><strong><a id="ConstructorDetail"></a>Constructor Detail</strong></td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="constructor"></a>constructor
          {}</strong></code> </dt>
            <dd>Constructor. </dd>
        </dl>
      </td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <tbody>
    <tr>
      <td><strong><a id="ProcMethodDetail"></a>Proc/Method Detail</strong></td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="open"></a>public method open {location
          {initscript ""}}</strong></code> </dt>
            <dd>Open sqlite3 database file from <code>location</code>. Upon
              establishing the connection successfully, if non-empty, evaluate
              sqlite3 SQL script passed through <code>initscript</code>.</dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>location</strong></dt>
                        <dd>Pathname of the sqlite3 database file.</dd>
                      <dt><strong>initscript</strong></dt>
                        <dd>Optional sqlite3 SQL script that will be evaluated
                          upon establishing the connection successfully. </dd>
                    </dl>
                  </dd>
                <dl>
                  <dt><strong>Returns:</strong></dt>
                    <dd>The connection command object on successfully
                      establishing the connection to database. Empty string on
                      failure.</dd>
                </dl>
                <dl>
                  <dt><strong>Throws:</strong></dt>
                    <dd>Error - If an attempt is made to invoke this method
                      without closing the existing connection.</dd>
                </dl>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="close"></a>public method close
          {}</strong></code> </dt>
            <dd>Close the database connection. Attempting to close a
              non-existent connection does not throw any error. </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="get"></a>public method get {schema_name
          condition {fieldslist ""}}</strong></code> </dt>
            <dd>Retrieves a record, that meets the <code>condition</code>, from
              a table/view indicated by <code>schema_name</code>.</dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>schema_name</strong></dt>
                        <dd>name of the table/view from where the record is to
                          be retrieved from the database.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>condition</strong></dt>
                        <dd>list of dictionaries. Every dictionary contains
                          fieldname-value pairs that will be joined with an AND
                          operator. The list elements are joined with an OR
                          operator. For e.g., the list of dictionaries
                          <code>{{f1 val1 f2 val2} {f1 val3 f2 val4}}</code> is
                          translated into <code>((f1='val1' AND f2='val2') OR
                          (f1='val3' AND f2='val4'))</code> that will be used
                          in <code>WHERE</code> clause of <code>SELECT</code>
                          query to retrieve a record.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>fieldslist</strong></dt>
                        <dd>optional list of field names of the record that
                          needs to be retrieved. If this argument is not
                          provided, all fields of the record will be
                        retrieved.</dd>
                    </dl>
                  </dd>
                <dt><strong>Returns:</strong></dt>
                  <dd>fieldname-value pairs retrieved from database as a Tcl
                    dictionary. If the retrieval does not return any record
                    from database, then the result will be an empty string.</dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="mget"></a>public method mget {schema_name
          args}</strong></code> </dt>
            <dd>Retrieve multiple records from a table/view indicated by
              <code>schema_name</code>. </dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>schema_name</strong></dt>
                        <dd>name of the table/view from where the record is to
                          be retrieved from the database.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>args</strong></dt>
                        <dd><dl>
                            <dt><strong><code>-fields</code></strong></dt>
                              <dd>List of fieldnames to be retrieved. By
                                default all the fields are retrieved.</dd>
                            <dt><strong><code>-condition</code></strong></dt>
                              <dd>Condition to be used in <code>WHERE</code>
                                caluse of <code>SELECT</code> query. Note, this
                                must be a valid SQLite SQL clause. By default
                                all the records are retrieved.</dd>
                            <dt><strong><code>-orderby</code></strong></dt>
                              <dd>Sorting term to be used in
                                <code>SELECT</code> query. Note: This must be a
                                valid SQLite SQL ordering-tem. Default behavior
                                is as defined by SQLite API.</dd>
                            <dt><strong><code>-groupby</code></strong></dt>
                              <dd>Grouping clause to be used in
                                <code>SELECT</code> query. Note: This must be a
                                valid SQLite SQL grouping clause. Default
                                behavior is as defined by SQLite API.</dd>
                          </dl>
                        </dd>
                    </dl>
                  </dd>
                <dt><strong>Returns:</strong></dt>
                  <dd>list of dictionaries where each dictionary represents a
                    record with fieldname-value pairs. If the retrieval does
                    not return any record from database, then the result will
                    be an empty string.</dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="insert"></a>public method insert
          {schema_name namevaluepairs {sequence_fields ""}}</strong></code>
          </dt>
            <dd>Insert a new record into the table/view indicated by
              <code>schema_name</code>.</dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>schema_name</strong></dt>
                        <dd>name of the table/view into which the record is to
                          be inserted.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>namevaluepairs</strong></dt>
                        <dd>A dictionary containing fieldname-value pairs.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>sequence_fields</strong></dt>
                        <dd>optional list of field names that are
                          sequence/auto-increment fields. Upon successful
                          insertion of the record, all the fields listed in
                          this parameter are given the value obtained from
                          <code>last_insert_rowid</code> command of sqlite3 API
                          and returned as part of the result.</dd>
                    </dl>
                  </dd>
                <dt><strong>Returns:</strong></dt>
                  <dd>The status of insert operation. A value greater than zero
                    indicates success. When <code>sequence_fields</code> is
                    non-empty, the return value will be a list containing two
                    elements: First element is the status of insert operation
                    and the second is a dictionary of sequence_fieldname-value
                    pairs.</dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="update"></a>public method update
          {schema_name namevaluepairs {condition ""}}</strong></code> </dt>
            <dd>Update one or more existing records, that meet the
              <code>condition</code>, of the table/view indicated by
              <code>schema_name</code>.</dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>schema_name</strong></dt>
                        <dd>name of the table/view into which the record is to
                          be inserted.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>namevaluepairs</strong></dt>
                        <dd>A dictionary containing fieldname-value pairs.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>condition</strong></dt>
                        <dd>Optional list of dictionaries where each dictionary
                          contains fieldname-value pairs that will be joined
                          with an AND operator. The list elements are joined
                          with an OR operator. For e.g., the list of
                          dictionaries <code>{{f1 val1 f2 val2} {f1 val3 f2
                          val4}}</code> is translated into <code>((f1='val1'
                          AND f2='val2') OR (f1='val3' AND f2='val4'))</code>
                          that will be used in <code>WHERE</code> clause of
                          <code>UPDATE</code> query to update the records.</dd>
                    </dl>
                  </dd>
                <dt><strong>Returns:</strong></dt>
                  <dd>Number of records that are updated.</dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="delete"></a>public method delete
          {schema_name {condition ""}}</strong></code> </dt>
            <dd>Delete one or more existing records that meet the
              <code>condition</code> from the table/view indicated by
              <code>schema_name</code>. </dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>schema_name</strong></dt>
                        <dd>name of the table/view into which the record is to
                          be inserted.</dd>
                    </dl>
                  </dd>
                  <dd><dl>
                      <dt><strong>condition</strong></dt>
                        <dd>Optional list of dictionaries. Every dictionary
                          contains fieldname-value pairs that will be joined
                          with an AND operator. The list elements are joined
                          with an OR operator. For e.g., the list of
                          dictionaries <code>{{f1 val1 f2 val2} {f1 val3 f2
                          val4}}</code> is translated into <code>((f1='val1'
                          AND f2='val2') OR (f1='val3' AND f2='val4'))</code>
                          that will be used in <code>WHERE</code> clause of
                          <code>DELETE</code> query to delete the records.</dd>
                    </dl>
                  </dd>
                <dt><strong>Returns:</strong></dt>
                  <dd>Number of records that are deleted.</dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="begin"></a>public method begin {{lock
          "deferred"}}</strong></code> </dt>
            <dd>Begin a database transaction.</dd>
            <dd><dl>
                <dt><strong>Parameters:</strong></dt>
                  <dd><dl>
                      <dt><strong>lock</strong></dt>
                        <dd>Type of locking to be done for this transaction.
                          Allowed values are: <code>deferred</code>,
                          <code>immediate</code> and <code>exclusive</code>.
                          See SQLite API documentation for further details.</dd>
                    </dl>
                  </dd>
              </dl>
            </dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="commit"></a>public method commit
          {}</strong></code> </dt>
            <dd>Commit the currently active database transaction.</dd>
        </dl>
      </td>
    </tr>
    <tr>
      <td><dl>
          <dt><code><strong><a id="rollback"></a>public method rollback
          {}</strong></code> </dt>
            <dd>Rollback the currently active database transaction.</dd>
        </dl>
      </td>
    </tr>
  </tbody>
</table>

<p></p>

<table border="1" style="width: 100%">
  <col>
  <col>
  <col>
  <col>
  <col>
  <col>
  <tbody>
    <tr>
      <td><a href="#ClassSummary">Class Summary</a></td>
      <td><a href="#Inheritance">Inheritance</a></td>
      <td><a href="#ConstructorSummary">Constructor Summary</a></td>
      <td><a href="#ProcMethodsSummary">Proc/Methods Summary</a></td>
      <td><a href="#ConstructorDetail">Constructor Detail</a></td>
      <td><a href="#ProcMethodDetail">Proc/Method Detail</a></td>
    </tr>
    <tr>
      <td align="center" colspan="6"><a href="reference.html">Table Of
        Contents</a></td>
    </tr>
  </tbody>
</table>

<p></p>

<p></p>

<p style="font-size: 10pt">Copyright (c) 2013 by Nagarajan Chinnasamy
&lt;nagarajanchinnasamy@gmail.com&gt;. See <a href="license.html">License</a>
for information on usage and redistribution</p>
</body>
</html>
