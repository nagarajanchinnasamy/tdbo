# ----------------------------------------------------------------------
# class Transaction
#
#
#
# ----------------------------------------------------------------------
itcl::class tdbo::Transaction {
	inherit tdbo::Object

# ----------------------------------------------------------------------
#
#
#
# ----------------------------------------------------------------------
constructor {db} {
	if {[namespace tail [info class]] == "Transaction"} {
		return -code error "Error: Can't create Transaction objects - abstract class."
	}
	if {$db == "" || ![$db isa tdbo::Database]} {
		return -code error "Invalid db object type"
	}
	set [itcl::scope db] $db
}

# ----------------------------------------------------------------------
#
#
#
# ----------------------------------------------------------------------
destructor {
}
# ----------------------------------------------------------------------
#
#
#
# ----------------------------------------------------------------------
public method execute {}
# ----------------------------------------------------------------------
#
#
#
#
# ----------------------------------------------------------------------
protected variable db
# ----------------------------------------------------------------------
#
#
#
#
# ----------------------------------------------------------------------
protected method begin {{lock deferred}} {
	$db begin $lock
}
# ----------------------------------------------------------------------
#
#
#
#
# ----------------------------------------------------------------------
protected method commit {} {
	$db commit
}
# ----------------------------------------------------------------------
#
#
#
#
# ----------------------------------------------------------------------
protected method rollback {} {
	$db rollback
}

# ---------------------------------END----------------------------------
}
